(this.webpackJsonpwebsite=this.webpackJsonpwebsite||[]).push([[0],{327:function(e,t,n){},328:function(e,t,n){},329:function(e,t,n){},333:function(e,t){},374:function(e,t){},376:function(e,t){},400:function(e,t){},402:function(e,t){},414:function(e,t){},415:function(e,t){},436:function(e,t){},438:function(e,t){},442:function(e,t){},444:function(e,t){},533:function(e,t){},586:function(e,t){},587:function(e,t){},588:function(e,t,n){},589:function(e,t,n){},590:function(e,t,n){},591:function(e,t,n){},592:function(e,t,n){},593:function(e,t,n){"use strict";n.r(t);var i=n(8),r=n.n(i),a=n(300),c=(n(327),n(328),n(20)),s=n(94),o=n(24),d=(n(329),n(203)),u=n(202),l=n(0),h=n.n(l),b=n(12),j=function(e){return new Promise((function(t){return setTimeout(t,e)}))},f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;return new Promise(function(){var n=Object(b.a)(h.a.mark((function n(i){return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=3,e();case 3:if(!n.sent){n.next=8;break}return n.abrupt("return",i());case 8:return n.next=10,j(t);case 10:n.next=0;break;case 12:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())};var p=n(60),x=n(317),O=n(311),g=n.n(O),v=n(312),m=n.n(v),w=n(4),y="deb04a4c6ec3473591234f198e9e4955",k={walletlink:{package:g.a,options:{appName:"KeynesianBeautyContest",infuraId:y,chainId:1}},walletconnect:{package:x.a,options:{infuraId:y}}},B="rinkeby",C={mainnet:{},localhost:{KBC:"0x5FbDB2315678afecb367f032d93F642f64180aa3",TokenURI:"0x9fE46736679d2D9a65F0992F2272dE9f3c7fa6e0",BlindAuction:"0xCf7Ed3AccA5a467e9e704C703E8D87F634fB0Fc9"},rinkeby:{KBC:"0x97008EDA4194d7be002D1b22CDd249CcB1169FEa",BlindAuction:"0x3C872e8358A353714b42657B4e90c72d0d873dAF",TokenURI:"0x1d9925464f2067d84D232Fc7440f957dA0a9412B"}};function S(){return C[B]}var A=["function exists(uint tokenId) view returns (bool)","function ownerOf(uint tokenId) view returns (address)"],I=["function hashBid(uint tokenId, uint amount, address bidder) pure returns (bytes32)","function placeSealedBid(bytes32 bidHash) payable","function unsealBid(uint tokenId, uint amount) payable","function claimToken(uint tokenId)","function withdrawSealedBid(bytes32 bidHash)","function auctionPhase() view returns (uint phase)","function hashToSealedBids(bytes32 hash) view returns (tuple(address bidder, uint stake))","function tokenIdToHighestUnsealedBid(uint tokenId) view returns (tuple(address bidder, uint amount))","event CreateBid(bytes32 indexed hash, uint stake, address indexed bidder)","event WithdrawBid(bytes32 indexed hash, address indexed bidder)","event RevealBid(bytes32 indexed hash, uint256 indexed tokenId, uint256 amount, address indexed bidder)","function changeAuctionPhaseBidding()","function changeAuctionPhasePaused()","function changeAuctionPhaseReveal()","function changeAuctionPhaseClaim()"],T=new m.a({network:B,cacheProvider:!0,providerOptions:k}),E=Object(i.createContext)(),P=function(e){var t=e.children,n=Object(i.useState)(null),r=Object(o.a)(n,2),a=r[0],c=r[1],s=Object(i.useState)(null),d=Object(o.a)(s,2),u=d[0],l=d[1],j=Object(i.useState)(null),f=Object(o.a)(j,2),x=f[0],O=f[1],g=Object(i.useState)(null),v=Object(o.a)(g,2),m=v[0],y=v[1],k=Object(i.useState)(!1),C=Object(o.a)(k,2),S=C[0],A=C[1],I=Object(i.useState)(!0),P=Object(o.a)(I,2),F=P[0],N=P[1],K=Object(i.useCallback)(Object(b.a)(h.a.mark((function e(){var t,n,i,r,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.connect();case 2:return t=e.sent,n=new p.a.providers.Web3Provider(t),i=n.getSigner(),e.next=7,i.getAddress();case 7:r=e.sent,a=R(B,n),l(n),y(r),c(i),O(a),A(!0),N(!1);case 15:case"end":return e.stop()}}),e)}))),[]),W=Object(i.useCallback)(Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.clearCachedProvider();case 2:y(""),A(!1);case 4:case"end":return e.stop()}}),e)}))),[]);return Object(i.useEffect)(Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!T.cachedProvider){e.next=4;break}return e.next=4,K();case 4:case"end":return e.stop()}}),e)}))),[]),Object(w.jsx)(E.Provider,{value:{provider:u,contracts:x,signer:a,connectedAddress:m,connected:S,onConnect:K,onDisconnect:W,loading:F},children:t})},R=function(e,t){return{KBC:new p.a.Contract(S().KBC,A,t),BlindAuction:new p.a.Contract(S().BlindAuction,I,t)}},F="__bid_info__";function N(e,t,n){var i,r=JSON.parse(localStorage.getItem(F))||{};((null===r||void 0===r||null===(i=r[e])||void 0===i?void 0:i[t])||{hashedBid:t,bidder:e}).state=n,localStorage.setItem(F,JSON.stringify(r))}var K={storeBid:function(e){var t=e.bidder,n=e.hashedBid,i=JSON.parse(localStorage.getItem(F))||{},r=i[t]||{};r[n]=e,i[t]=r,localStorage.setItem(F,JSON.stringify(i))},updateBidState:N,getBids:function(e){return(JSON.parse(localStorage.getItem(F))||{})[e]||{}}};function W(e,t){return _.apply(this,arguments)}function _(){return(_=Object(b.a)(h.a.mark((function e(t,n){var i,r,a,c,s,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.BlindAuction.filters.CreateBid(null,null,n);case 2:return i=e.sent,e.next=5,t.BlindAuction.queryFilter(i);case 5:return r=e.sent,e.next=8,t.BlindAuction.filters.WithdrawBid(null,n);case 8:return a=e.sent,e.next=11,t.BlindAuction.queryFilter(a);case 11:return c=e.sent,e.next=14,t.BlindAuction.filters.RevealBid(null,null,null,n);case 14:return s=e.sent,e.next=17,t.BlindAuction.queryFilter(s);case 17:o=e.sent,r.forEach((function(e){return N(n,e.args.hash,"sealed")})),c.forEach((function(e){return N(n,e.args.hash,"withdrawn")})),o.forEach((function(e){return N(n,e.args.hash,"revealed")})),console.log(o);case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}window.__clearLocalStorage=function(){return localStorage.removeItem(F)};var H="0x0000000000000000000000000000000000000000",D=function(){return Object(i.useContext)(E)};function M(){var e=Object(i.useState)(0),t=Object(o.a)(e,2),n=t[0],r=t[1],a=D(),c=a.contracts,s=a.loading;return Object(i.useEffect)(Object(b.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s||(t=function(){var e=Object(b.a)(h.a.mark((function e(){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.BlindAuction.auctionPhase();case 2:n=e.sent,r(Number(n.toString())),setTimeout(t,3e3);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t());case 1:case"end":return e.stop()}}),e)}))),[s]),n}function z(){var e=D(),t=e.contracts,n=e.signer,r=e.connectedAddress,a=Object(i.useState)({}),c=Object(o.a)(a,2),s=c[0],d=c[1],u=Object(i.useState)(!1),l=Object(o.a)(u,2),j=l[0],x=l[1];Object(i.useEffect)(Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!r){e.next=4;break}return e.next=3,W(t,r);case 3:d(K.getBids(r));case 4:case"end":return e.stop()}}),e)}))),[r,t]);var O=function(e,t){K.updateBidState(r,e,t),d(K.getBids(r))},g=function(){var e=Object(b.a)(h.a.mark((function e(i,a){var c,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.BlindAuction.hashBid(i,p.a.utils.parseEther(a),r);case 2:return c=e.sent,x(!0),e.next=6,t.BlindAuction.connect(n).placeSealedBid(c,{value:p.a.utils.parseEther("0.2")});case 6:return o={hashedBid:c,tokenId:i,bid:a,bidder:r,state:"submitted"},K.storeBid(o),d(K.getBids(r)),s=function(e){return e.bidder!==H},e.next=10,f((function(){return t.BlindAuction.hashToSealedBids(c).then(s)}),1e3);case 10:O(c,"sealed"),x(!1);case 12:case"end":return e.stop()}var o}),e)})));return function(t,n){return e.apply(this,arguments)}}(),v=function(){var e=Object(b.a)(h.a.mark((function e(i){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.next=3,t.BlindAuction.connect(n).withdrawSealedBid(i);case 3:return r=function(e){return e.bidder===H},e.next=6,f((function(){return t.BlindAuction.hashToSealedBids(i).then(r)}),1e3);case 6:O(i,"withdrawn"),x(!1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(b.a)(h.a.mark((function e(i,r,a){var c,o,d,u;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.next=3,t.BlindAuction.tokenIdToHighestUnsealedBid(r);case 3:return c=e.sent,o=Number(p.a.utils.formatEther(c.amount)),d=s[i].bid>o?Math.max(Number(s[i].bid-.2,0)):0,e.next=8,t.BlindAuction.connect(n).unsealBid(r,p.a.utils.parseEther(a),{value:p.a.utils.parseEther(String(d))});case 8:return u=function(e){return e.bidder!==H},e.next=11,f((function(){return t.BlindAuction.hashToSealedBids(i).then(u)}),1e3);case 11:O(i,"revealed"),x(!1);case 13:case"end":return e.stop()}}),e)})));return function(t,n,i){return e.apply(this,arguments)}}(),w=function(){var e=Object(b.a)(h.a.mark((function e(i){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.next=3,t.BlindAuction.connect(n).claimToken(i);case 3:return e.next=5,f((function(){return t.KBC.exists(i)}),1e3);case 5:x(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{bids:s,isLoading:j,submitBid:g,withdrawBid:v,revealBid:m,claimToken:w}}function J(e){var t=Object(i.useState)(!1),n=Object(o.a)(t,2),r=(n[0],n[1],D().contracts),a=Object(i.useState)({bidder:H,amount:0}),c=Object(o.a)(a,2),s=c[0],d=c[1];return Object(i.useEffect)(Object(b.a)(h.a.mark((function t(){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r){t.next=5;break}return t.next=3,r.BlindAuction.tokenIdToHighestUnsealedBid(e);case 3:n=t.sent,d(n);case 5:case"end":return t.stop()}}),t)}))),[r]),{bidder:s.bidder,amount:p.a.utils.formatEther(String(s.amount))}}var X=n(75),L=(n(588),n(316)),q=n.n(L);function U(){var e=Object(i.useState)(0),t=Object(o.a)(e,2);t[0],t[1];return Object(w.jsx)(q.a,{setup:function(e,t){e.createCanvas(window.innerWidth,2*window.innerHeight).parent(t)},draw:function(e){e.noLoop(),e.noStroke(),e.colorMode(e.HSL,360,100,100,100);var t=[e.color(47,95,70,40),e.color(15,63,61,40),e.color(168,23,71,40),e.color(221,48,70,40)];G(300,(function(n){var i,r=e.random(0,e.width),a=Math.pow(e.random(),3)*e.height-25,c=e.noise(r/100,a/100);c<.3?i=t[0]:c<.5?i=t[1]:c<.75?i=t[2]:c<1&&(i=t[3]),e.fill(i),function(e,t,n,i){var r=30,a=2,c=G(r,(function(c){var s=(c+r)%r*e.TWO_PI/r,o=V(s,2,t+1e3,n+1e3),d=(o[0]+200)/a,u=(o[1]+200)/a,l=1/a;return V(s,e.map(e.noise(d,u,l),0,1,.5*i,2*i),t,n)}));e.beginShape(),e.curveVertex.apply(e,Object(X.a)(c[c.length-1])),c.forEach((function(t){var n=Object(o.a)(t,2),i=n[0],r=n[1];e.curveVertex(i,r)})),e.curveVertex.apply(e,Object(X.a)(c[0])),e.curveVertex.apply(e,Object(X.a)(c[1])),e.endShape()}(e,r,a,e.random(3,20))})),e.translate(e.width/2,e.height/2)},className:"Hero"})}function V(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return[Math.sin(e)*t+n,Math.cos(e)*t+i]}function G(e,t){for(var n=[],i=0;i<e;i++)n.push(t(i));return n}window.innerWidth;function Q(){var e=Object(i.useState)("xs"),t=Object(o.a)(e,2),n=(t[0],t[1],M()),r=Object(i.useState)([]),a=Object(o.a)(r,2),c=a[0],s=a[1];return Object(i.useEffect)((function(){var e=Object(d.shuffle)(Object(d.times)(139,(function(e){return{tokenId:e+1}}))).slice(0,100);s(e)}),[]),Object(w.jsxs)("div",{className:"Main",children:[Object(w.jsxs)(u.a,{children:[Object(w.jsx)("meta",{name:"twitter:image",content:"https://steviep.xyz/natural-flavors/assets/0.jpg"}),Object(w.jsx)("meta",{name:"og:image",property:"og:image",content:"https://steviep.xyz/natural-flavors/assets/0.jpg"}),Object(w.jsx)("meta",{name:"og:image:alt",content:"Natural Flavors"}),Object(w.jsx)("meta",{name:"title",content:"Natural Flavors"}),Object(w.jsx)("meta",{name:"og:title",content:"Natural Flavors"}),Object(w.jsx)("meta",{name:"twitter:title",content:"Natural Flavors"}),Object(w.jsx)("meta",{property:"og:site_name",content:"Natural Flavors"}),Object(w.jsx)("meta",{name:"twitter:description",content:"Natural Flavors: A Photo Series by Steve Pikelny"}),Object(w.jsx)("meta",{name:"description",content:"Natural Flavors: A Photo Series by Steve Pikelny"}),Object(w.jsx)("meta",{name:"og:description",content:"Natural Flavors: A Photo Series by Steve Pikelny"}),Object(w.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),Object(w.jsx)("meta",{property:"og:type",content:"website"}),Object(w.jsx)("meta",{property:"og:url",content:"https://steviep.xyz/natural-flavors"}),Object(w.jsx)("meta",{name:"twitter:url",content:"https://steviep.xyz/natural-flavors"}),Object(w.jsx)("meta",{name:"keywords",content:""}),Object(w.jsx)("title",{children:"The Keynsian Beauty Contest"})]}),Object(w.jsx)(U,{}),Object(w.jsxs)("header",{children:[Object(w.jsx)("h1",{children:"Who Will Win The Keynesian Beauty Contest?"}),Object(w.jsx)("h1",{}),Object(w.jsx)("h1",{})]}),Object(w.jsxs)("section",{className:"thumbnailGrid",children:[Object(w.jsx)("div",{style:{gridColumnStart:0,gridColumnEnd:"span 2",border:"2px solid",backgroundColor:"hsl(60deg 71% 99%)",padding:"0.5em",textAlign:"center"},children:Object(w.jsx)("h2",{children:1===n?"Bidding will close on X/X at X:00":"Bidding will begin on X/X at XX:XX EST"})}),Object(w.jsx)("div",{style:{gridColumnStart:4,gridColumnEnd:"6",gridRowStart:2,gridRowEnd:"span 2",border:"2px solid",backgroundColor:"hsl(60deg 71% 99%)",padding:"0.7em",fontSize:"1.85em"},children:"Posed as a thought experiment by economist John Meynerd Keynes in 1936 to describe the pricing dynamics of financial markets, the Keynesian Beauty Contest is no ordinary beauty contest."}),Object(w.jsx)("div",{style:{gridColumnStart:0,gridColumnEnd:"span 1",gridRowStart:4,gridRowEnd:"span 2",border:"2px solid",backgroundColor:"hsl(60deg 71% 99%)",padding:"0.5em",fontSize:"1.4em"},children:"In an ordinary beauty contest, judges vote for contestants who they consider the most beautiful. The contestant who receives the most votes is the winner."}),Object(w.jsx)("div",{style:{gridColumnStart:2,gridColumnEnd:"span 2",gridRowStart:5,gridRowEnd:"span 1",border:"2px solid",backgroundColor:"hsl(60deg 71% 99%)",padding:"0.75em",fontSize:"1.2em"},children:"But in a Keynesian beauty contest the judges compete amongst one another: Rather than vote with their own sensibilities, they vote for the contestant they believe will get the most votes from the other judges."}),Object(w.jsx)("div",{style:{gridColumnStart:4,gridColumnEnd:"span 2",gridRowStart:7,gridRowEnd:"span 1",border:"2px solid",backgroundColor:"hsl(60deg 71% 99%)",padding:"0.5em",fontSize:"1.1em"},children:"The contest is not about what we find beautiful, or even what we think the group finds beautiful on average."}),Object(w.jsx)("div",{style:{gridColumnStart:0,gridColumnEnd:"span 3",gridRowStart:9,gridRowEnd:"span 1",border:"2px solid",backgroundColor:"hsl(60deg 71% 99%)",padding:"0.5em",fontSize:"1.5em"},children:'Keynes notes: "We have reached the third degree where we devote our intelligences to anticipating what average opinion expects the average opinion to be. And there are some, I believe, who practise the fourth, fifth and higher degrees."'}),c.map((function(e,t){return Object(w.jsx)("div",{children:Object(w.jsx)(Y,{data:e},e.tokenId)},"thumbnail-".concat(t))}))]}),Object(w.jsx)(Z,{}),Object(w.jsxs)("h2",{style:{textAlign:"center",wordWrap:"break-word",padding:"1em"},children:[Object(w.jsx)("div",{children:Object(w.jsx)("a",{href:"https://etherscan.io/address/".concat(S().KBC),target:"_blank",rel:"nofollow",children:"Token Contract"})}),Object(w.jsx)("div",{children:Object(w.jsx)("a",{href:"https://etherscan.io/address/".concat(S().BlindAuction),target:"_blank",rel:"nofollow",children:"Auction Contract"})}),Object(w.jsx)("div",{children:Object(w.jsx)("a",{href:"https://etherscan.io/address/".concat(S().TokenURI),target:"_blank",rel:"nofollow",children:"Metadata Contract"})}),Object(w.jsx)("div",{children:Object(w.jsx)("a",{href:"https://ipfs.io/ipfs/",target:"_blank",rel:"nofollow",children:"IPFS"})})]})]})}function Y(e){var t=e.data;return Object(w.jsx)(s.b,{to:"/participants/".concat(t.tokenId),children:Object(w.jsxs)("div",{className:"Thumbnail",children:[Object(w.jsx)("div",{className:"Thumbnail-overlay",children:"Alice"}),Object(w.jsx)("div",{children:Object(w.jsx)("img",{src:"./assets/".concat(t.tokenId,".jpeg"),loading:"lazy"})})]})})}function Z(){var e=D(),t=(e.provider,e.signer,e.connectedAddress),n=(e.connected,e.onConnect),i=e.onDisconnect;return Object(w.jsxs)("section",{children:[Object(w.jsx)("button",{onClick:n,children:"Connect"}),Object(w.jsx)("button",{onClick:i,children:"Disconnect"}),t]})}n(589);function $(){var e=Object(c.g)().id,t=D(),n=(t.contracts,t.connectedAddress),r=function(e){var t=D().contracts,n=Object(i.useState)(!1),r=Object(o.a)(n,2),a=(r[0],r[1],Object(i.useState)(!1)),c=Object(o.a)(a,2),s=c[0],d=c[1],u=Object(i.useState)(!1),l=Object(o.a)(u,2),j=l[0],f=l[1];return Object(i.useEffect)(Object(b.a)(h.a.mark((function n(){var i,r;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t){n.next=10;break}return n.next=3,t.KBC.exists(e);case 3:if(i=n.sent,d(i),!i){n.next=10;break}return n.next=8,t.KBC.ownerOf(e);case 8:r=n.sent,f(r);case 10:case"end":return n.stop()}}),n)}))),[t]),{exists:s,owner:j}}(e),a=r.exists,d=r.owner;return Object(w.jsxs)("div",{className:"Page",children:[Object(w.jsxs)("header",{children:[Object(w.jsx)(s.b,{to:"/",children:Object(w.jsx)("h2",{children:"< Back"})}),Object(w.jsx)("h2",{style:{margin:"initial"},children:"Keynesian Beauty Contest"})]}),Object(w.jsx)("section",{className:"pageSection",children:Object(w.jsx)("div",{className:"photo",children:Object(w.jsx)("a",{href:"../assets/".concat(e,".jpeg"),target:"_blank",children:Object(w.jsx)("img",{src:"../assets/".concat(e,".jpeg")})})})}),a?"Portrait Owner: ".concat(d):n?Object(w.jsx)(ee,{id:e}):Object(w.jsx)("h2",{children:"Please Connect your wallet to bid"})]})}function ee(e){var t=e.id,n=D(),r=(n.contracts,n.signer,n.connectedAddress),a=Object(i.useState)(""),c=Object(o.a)(a,2),s=c[0],d=c[1],u=z(),l=u.bids,h=u.isLoading,b=u.submitBid,j=u.withdrawBid,f=u.revealBid,p=u.claimToken,x=M(),O=J(t);return Object(w.jsxs)("section",{children:[Object(w.jsx)("h2",{children:"Place Blind Bid"}),Object(w.jsx)("p",{children:"This will require a 0.2 ETH stake"}),2==x?"Highest Active Bid: ".concat(O.amount)+(O.bidder===r?" (Placed by you)":""):"",3==x?"Winning Bid: ".concat(O.amount):"",3==x&&O.bidder===r?Object(w.jsx)("button",{onClick:function(){return p(t)},children:"Claim Token"}):"",1===x?Object(w.jsxs)("div",{children:[Object(w.jsx)("input",{value:s,placeholder:"0.2 E",onChange:function(e){return d(e.target.value)},type:"number"}),Object(w.jsx)("button",{onClick:function(){return b(t,s)},children:"Place Bid"})]}):"",1===x||2===x?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("a",{href:"/",children:"Learn more about the bidding process"}),h?"bid pending...":"",Object.values(l).filter((function(e){return e.tokenId===t})).map((function(e,t){return Object(w.jsx)(te,{bid:e,withdrawBid:function(){return j(e.hashedBid)},revealBid:function(){return f(e.hashedBid,e.tokenId,e.bid)}},t)}))]}):""]})}function te(e){var t=e.bid,n=e.withdrawBid,i=e.revealBid,r=D(),a=(r.contracts,r.signer,r.connectedAddress,M());return Object(w.jsxs)("div",{children:[t.bid,t.state,1===a&&"sealed"===t.state&&Object(w.jsx)("button",{onClick:n,children:"Widthdraw Bid"}),2===a&&"sealed"===t.state&&Object(w.jsx)("button",{onClick:i,children:"Reveal Bid"})]})}n(590);function ne(){return Object(w.jsxs)("main",{children:[Object(w.jsxs)("section",{children:[Object(w.jsx)("h2",{children:"Welcome to The Keynesian Beauty Contest"}),Object(w.jsx)("p",{children:'Posed as a thought experiment by economist John Meynerd Keynes in 1936 to describe the pricing dynamics of the stock market, the Keynesian beauty contest is no ordinary beauty contest. In an ordinary beauty contest, judges vote for who they think is the most beautiful. The winner is the contestant who receives the most votes. But in a Keynesian beauty contest, the judges compete against one another: They vote not for who they themeselves think is the most beautiful, but rather for the contestant they believe will get the most votes from the other judges. As Keynes notes, it no longer becomes what we think is beautiful, or even what we think the average of the group thinks is beautiful: "We have reached the third degree where we devote our intelligences to anticipating what average opinion expects the average opinion to be. And there are some, I believe, who practise the fourth, fifth and higher degrees."'}),Object(w.jsx)("p",{children:"In this particular Keynesian beauty contest, which takes place as a blind auction, participants can acquire portraits of our lovely contestants with two strategies. In one strategy, they can simply choose to bid on the portraits they would most like to own, and only bid what they think it is worth to them -- no more, and no less. In the other strategy, participants may choose to play the Keynesian beauty contest game by ignoring their own preferences in favor of their perception of the perceptions of others."}),Object(w.jsx)("p",{children:"For either approach, participants are encouraged to reflect on the personal and social nature of purchasing art."})]}),Object(w.jsxs)("section",{children:[Object(w.jsx)("h2",{children:"The Rules of the Game"}),Object(w.jsx)("p",{children:"The Keynesian Beauty contest is conducted as a blind auction, split into three stages: Bidding, Reveal, and Withdrawl."}),Object(w.jsx)("h3",{children:"Bidding"}),Object(w.jsx)("p",{children:"In this stage, participants submit sealed bids for their selected portraits. While others will be able to see that a specific address has made a bid, no one except the bidder will know the amount of the bid or which portrait is being bid on. Additionally, the bidder will be required to stake 0.2 ETH of collateral per bid. This is the only stage in which bids can be made or withdrawn."}),Object(w.jsx)("h3",{children:"Reveal"}),Object(w.jsxs)("p",{children:["Upon the completion of the Bidding stage, participants will be expected to reveal their bids. If this is the highest revealed bid for the token, the participant must increase their stake to match their bid. If their bid is less than their staked collateral, they will be refunded. If they are not the highest bidder (or there is a subsequently higher bidder), their stake will automatically be refunded. ",Object(w.jsx)("strong",{children:"If a bid is not revealed in this stage, the participant will lose their stake."})]}),Object(w.jsx)("h3",{children:"Withdrawl"}),Object(w.jsx)("p",{children:"At this stage, the auction is complete and winners have been determined. Winners mat now claim their token(s). Losers will have been refunded their initial stake. Anyone who has not revealed their bid in the previous stage will have lost their stake."})]}),Object(w.jsxs)("section",{children:[Object(w.jsx)("h2",{children:"FAQ"}),Object(w.jsx)("h3",{children:"How are the bids sealed?"}),Object(w.jsx)("h3",{children:"How does the Keynesian Beauty Contest website keep track of my bid info?"}),Object(w.jsx)("h3",{children:"What happens if there is a tie inthe bidding?"}),Object(w.jsx)("h3",{children:"How much gas will all of this cost?"}),Object(w.jsx)("p",{children:"Gas for the full auction lifecycly should cost between 200000 and 250000 gwei per bid. With a gas price of 100, this works out to between 0.02 and 0.025 ETH. As compensation for gas paid, all participants who unseal a bid for 0.1 ETH or higher will receive a free consolation prize token."})]})]})}n(591);function ie(){var e=z(),t=e.bids,n=(e.isLoading,e.submitBid,e.withdrawBid),i=e.revealBid,r=e.claimToken;return Object(w.jsx)("div",{children:Object.values(t).map((function(e,t){return Object(w.jsx)(re,{bid:e,withdrawBid:function(){return n(e.hashedBid)},revealBid:function(){return i(e.hashedBid,e.tokenId,e.bid)},claimToken:function(){return r(e.tokenId)}},t)}))})}function re(e){var t=e.bid,n=e.withdrawBid,i=e.revealBid,r=(e.claimToken,D()),a=(r.contracts,r.signer,r.connectedAddress),c=M(),s=J(t.tokenId);return Object(w.jsxs)("div",{children:[t.tokenId+" -- ",t.bid+" -- ",t.state+" -- ",1===c&&Object(w.jsx)("button",{onClick:n,children:"Widthdraw Bid"}),2===c&&Object(w.jsx)("button",{onClick:i,children:"Reveal Bid"}),3===c&&s.bidder===a&&Object(w.jsx)("button",{onClick:i,children:"Claim"})]})}n(592);var ae={0:"Paused",1:"Bidding",2:"Reveal",3:"Claim"};function ce(){var e=D(),t=(e.provider,e.contracts),n=e.signer,i=(e.connectedAddress,e.connected,e.onConnect,e.onDisconnect,e.loading,M());return Object(w.jsxs)("div",{children:["Current Phase: ",ae[i],Object(w.jsx)("button",{onClick:function(){return t.BlindAuction.connect(n).changeAuctionPhaseBidding()},children:"Move to Bidding"}),Object(w.jsx)("button",{onClick:function(){return t.BlindAuction.connect(n).changeAuctionPhasePaused()},children:"Move to Paused"}),Object(w.jsx)("button",{onClick:function(){return t.BlindAuction.connect(n).changeAuctionPhaseReveal()},children:"Move to Reveal"}),Object(w.jsx)("button",{onClick:function(){return t.BlindAuction.connect(n).changeAuctionPhaseClaim()},children:"Move to Claim"})]})}function se(){var e=Object(c.e)().pathname;return Object(i.useEffect)((function(){window.scrollTo(0,0)}),[e]),null}var oe=window.location.href.includes("steviep.xyz/keynes")?"/keynes":"/";var de=function(){return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)(s.a,{basename:oe,children:[Object(w.jsx)(se,{}),Object(w.jsxs)(c.c,{children:[Object(w.jsx)(c.a,{path:"/participants/:id",element:Object(w.jsx)($,{})}),Object(w.jsx)(c.a,{exact:!0,path:"/",element:Object(w.jsx)(Q,{})}),Object(w.jsx)(c.a,{exact:!0,path:"/about",element:Object(w.jsx)(ne,{})}),Object(w.jsx)(c.a,{exact:!0,path:"/bids",element:Object(w.jsx)(ie,{})}),Object(w.jsx)(c.a,{exact:!0,path:"/dev",element:Object(w.jsx)(ce,{})})]})]}),Object(w.jsx)("footer",{children:Object(w.jsxs)("div",{children:[Object(w.jsx)("div",{children:Object(w.jsx)("a",{href:"https://twitter.com/steviepxyz",target:"_blank",rel:"nofollow",children:"twitter"})}),Object(w.jsx)("div",{children:Object(w.jsx)("a",{href:"https://discord.gg/9uA8WBFpcB",target:"_blank",rel:"nofollow",children:"discord"})}),Object(w.jsx)("div",{children:"(c) 2022"})]})})]})};window.CONTRACT_ADDR="0xBD1cA111380B436350034c7040E7C44949605702",Object(a.render)(Object(w.jsx)(r.a.StrictMode,{children:Object(w.jsx)(P,{children:Object(w.jsx)(de,{})})}),document.getElementById("root"))}},[[593,1,2]]]);
//# sourceMappingURL=main.fad35ce4.chunk.js.map